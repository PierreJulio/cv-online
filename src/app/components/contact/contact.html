<!-- Contact Section -->
<div class="container">
  <div class="section-header">
    <h2 class="section-title">Collaborons Ensemble</h2>
    <div class="section-line"></div>
    <p class="section-subtitle">Transformons vos idées en solutions digitales performantes</p>
  </div>

  <div class="row contact-row">
    <!-- Contact Information -->
    <div class="col-lg-6 order-lg-1 order-2">
      <div class="contact-info">
        <h3 class="contact-info-title">Démarrons votre projet</h3>
        <p class="contact-description">Développeur freelance spécialisé en solutions web et mobile. Disponible pour vos projets d'entreprise.</p>
        
        <!-- Call to Action Cards -->
        <div class="cta-cards">
          <div class="cta-card primary">
            <div class="cta-icon">
              <i class="fas fa-handshake"></i>
            </div>
            <div class="cta-content">
              <h4>Projet Freelance</h4>
              <p>Discutons de votre besoin</p>
              <a href="https://www.malt.fr/profile/pierrejulio" target="_blank" class="btn btn-primary btn-sm">
                <i class="fas fa-external-link-alt"></i>
                Voir mon profil Malt
              </a>
            </div>
          </div>
          
          <div class="cta-card secondary">
            <div class="cta-icon">
              <i class="fas fa-file-pdf"></i>
            </div>
            <div class="cta-content">
              <h4>CV Complet</h4>
              <p>Téléchargez mon CV détaillé</p>
              <button class="btn btn-outline btn-sm" (click)="downloadCV()">
                <i class="fas fa-download"></i>
                Télécharger PDF
              </button>
            </div>
          </div>
        </div>
        
        <div class="contact-details" *ngIf="contactInfo">
          <div class="contact-item">
            <div class="contact-icon">
              <i class="fas fa-envelope"></i>
            </div>
            <div class="contact-content">
              <h4>Contact Direct</h4>
              <a [href]="'mailto:' + contactInfo.email + '?subject=Projet%20Freelance%20-%20Collaboration'">{{ contactInfo.email }}</a>
            </div>
          </div>

          <div class="contact-item">
            <div class="contact-icon">
              <i class="fas fa-phone"></i>
            </div>
            <div class="contact-content">
              <h4>Appelez-moi</h4>
              <a [href]="'tel:' + contactInfo.phone">{{ contactInfo.phone }}</a>
            </div>
          </div>

          <div class="contact-item">
            <div class="contact-icon">
              <i class="fas fa-map-marker-alt"></i>
            </div>
            <div class="contact-content">
              <h4>Localisation</h4>
              <span>{{ contactInfo.location }} • Remote possible</span>
            </div>
          </div>

          <div class="contact-item">
            <div class="contact-icon">
              <i class="fas fa-clock"></i>
            </div>
            <div class="contact-content">
              <h4>Disponibilité</h4>
              <span class="availability-status" [class.available]="contactInfo.availability.status === 'available'">
                {{ contactInfo.availability.message }}
              </span>
            </div>
          </div>
        </div>

        <!-- Social Links -->
        <div class="social-links" *ngIf="contactInfo?.social">
          <h4 class="social-title">Suivez-moi</h4>
          <div class="social-buttons">
            <button 
              *ngIf="contactInfo.social.linkedin"
              class="social-btn linkedin"
              (click)="openSocialLink(contactInfo.social.linkedin)"
              title="LinkedIn">
              <i class="fab fa-linkedin"></i>
            </button>
            <button 
              *ngIf="contactInfo.social.github"
              class="social-btn github"
              (click)="openSocialLink(contactInfo.social.github)"
              title="GitHub">
              <i class="fab fa-github"></i>
            </button>
          </div>
        </div>

        <!-- Download vCard -->
        <button class="btn btn-outline download-vcard" (click)="downloadVCard()">
          <i class="fas fa-download"></i>
          Télécharger contact
        </button>
      </div>
    </div>

    <!-- Contact Form -->
    <div class="col-lg-6 order-lg-2 order-1">
      <div class="contact-form">
        <form (ngSubmit)="onSubmit()" #contactFormRef="ngForm">
          <div class="form-group">
            <label for="name">Nom *</label>
            <input 
              type="text" 
              id="name" 
              name="name"
              class="form-control"
              [(ngModel)]="contactForm.name"
              required
              (blur)="onFieldTouch('name')"
              [class.is-invalid]="getFieldError('name')"
              placeholder="Votre nom complet">
            <div class="invalid-feedback" *ngIf="getFieldError('name')">
              {{ getFieldError('name') }}
            </div>
          </div>

          <div class="form-group">
            <label for="email">Email *</label>
            <input 
              type="email" 
              id="email" 
              name="email"
              class="form-control"
              [(ngModel)]="contactForm.email"
              required
              (blur)="onFieldTouch('email')"
              [class.is-invalid]="getFieldError('email')"
              placeholder="votre.email@exemple.com">
            <div class="invalid-feedback" *ngIf="getFieldError('email')">
              {{ getFieldError('email') }}
            </div>
          </div>

          <div class="form-group">
            <label for="subject">Sujet *</label>
            <input 
              type="text" 
              id="subject" 
              name="subject"
              class="form-control"
              [(ngModel)]="contactForm.subject"
              required
              (blur)="onFieldTouch('subject')"
              [class.is-invalid]="getFieldError('subject')"
              placeholder="Sujet de votre message">
            <div class="invalid-feedback" *ngIf="getFieldError('subject')">
              {{ getFieldError('subject') }}
            </div>
          </div>

          <div class="form-group">
            <label for="message">Message *</label>
            <textarea 
              id="message" 
              name="message"
              class="form-control"
              rows="5"
              [(ngModel)]="contactForm.message"
              required
              (blur)="onFieldTouch('message')"
              [class.is-invalid]="getFieldError('message')"
              placeholder="Votre message..."></textarea>
            <div class="invalid-feedback" *ngIf="getFieldError('message')">
              {{ getFieldError('message') }}
            </div>
          </div>

          <!-- Success Message -->
          <div class="alert alert-success" *ngIf="submitSuccess">
            <i class="fas fa-check-circle"></i>
            Votre message a été envoyé avec succès !
          </div>

          <!-- Error Message -->
          <div class="alert alert-danger" *ngIf="submitError">
            <i class="fas fa-exclamation-circle"></i>
            {{ submitError }}
          </div>

          <button 
            type="submit" 
            class="btn btn-primary btn-lg submit-btn"
            [disabled]="isSubmitting || !contactFormRef.form.valid">
            <span *ngIf="!isSubmitting">
              <i class="fas fa-paper-plane"></i>
              Envoyer le message
            </span>
            <span *ngIf="isSubmitting">
              <i class="fas fa-spinner fa-spin"></i>
              Envoi en cours...
            </span>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
